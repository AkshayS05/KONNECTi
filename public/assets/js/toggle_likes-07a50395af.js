function toggleLike(e){$(e).click(function(t){t.preventDefault(),$.ajax({type:"GET",url:$(e).attr("href"),success:function(t){let n,o=$(e).attr("data-likes");t.deleted?o--:o++,$(e).attr("data-likes",o),"Post"===t.type&&(n=!0===t.deleted?newUnLikeDomPost(o,t.likeableType):newLikeDomPost(o,t.likeableType)),"Comment"===t.type&&(n=!0===t.deleted?newUnLikeDomComment(o,t.likeableType):newLikeDomComment(o,t.likeableType)),$(e).html(n)},error:function(e){console.log(e.responseText)}})})}$(".toggle-like-button").each(function(){toggleLike($(this))});let newLikeDomPost=function(e,t){return $(`\n    <a class="toggle-like-button"data-likes='${e}'href="/likes/toggle/?id=${t._id}&type=Post">\n    ${e}Likes</a>\n\n  `)},newUnLikeDomPost=function(e,t){return console.log("new unlike dom post"),$(` <a data-likes=${e} class="toggle-btn" href="/likes/toggle?id=${t._id}&type=Post">\n       \n      </a>\n        <span>${e}</span>`)},newLikeDomComment=function(e,t){return $(` <a data-likes=${e} class="toggle-btn" href="/likes/toggle?id=${t._id}&type=Comment">\n       \n      </a>\n        <span>${e}</span>`)},newUnLikeDomComment=function(e,t){return $(` <a data-likes=${e} class="toggle-btn" href="/likes/toggle?id=${t._id}&type=Comments">\n       \n      </a>\n        <span>${e}</span>`)};
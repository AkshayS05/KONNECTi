{let e=function(e){let o=$(`#post-${e}-comments-form`);o.submit(function(e){e.preventDefault(),$.ajax({type:"post",url:"/comments/create",data:o.serialize(),success:function(e){let o=t(e.data.comment);$(".post-comments-list>ul").prepend(o),new Noty({theme:"relax",text:"Comment published!",type:"success",layout:"topRight",timeout:1500}).show(),n($(" .delete-comment-btn",o))},error:function(e){console.log(e.responseText)}})})},t=function(e){return $(`<li id="comment-${e._id}">\n    <p class="single-comment">\n      <small>\n        <a class="delete-comment-btn" href="/comments/destroy/${e._id}"\n          >X</a\n        >\n      </small>\n      ${e.content}\n      <br />\n      <small> ${e.user.name} </small>\n      <br>\n      <small>\n          \n              <a class="toggle-like-button" data-likes="0" href="/likes/toggle/?id=${e._id}&type=Comment">\n                  0 Likes\n              </a>\n          \n      </small>\n    </p>\n  </li>`)},n=function(e){$(e).click(function(t){t.preventDefault(),$.ajax({type:"get",url:$(e).prop("href"),success:function(e){$(`#comment-${e.data.comment_id}`).remove(),new Noty({theme:"relax",text:"Comment deleted!",type:"success",layout:"topRight",timeout:1500}).show()},error:function(e){console.log(e.responseText)}})})};(function(){$(".post-comments-list>ul").each(function(){let t=$(this),o=$(" .delete-comment-btn",t);n(o);let s=t.prop("id").split("-")[2];e(s)})})()}